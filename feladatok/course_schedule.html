<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Schedule</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <header>
        <h1>Course Schedule</h1>
        <nav>
            <ul>
                <li><a href="../index.html">‚Üê Vissza a f≈ëoldalra</a></li>
            </ul>
        </nav>
    </header>
    <div class="kontener">
            
        <section class="feladat-leiras">
            <h2>Feladat le√≠r√°sa
                <a href="https://cses.fi/problemset/task/1679/" target="_blank" style="color: var(--szin-kiemeles); text-decoration: none; font-weight: bold;">
                    üîó
                </a>
            </h2>
            <p>√ñsszesen <i>N</i> db kurzust kell teljes√≠tened. Adott <i>M</i> db k√∂vetelm√©ny a k√∂vetkez≈ë alakban: "az <i>A</i> kurzust a <i>B</i> kurzus el≈ëtt kell elv√©gezni".
                A feladatod, hogy megtal√°ld azt a sorrendet, amelyben elv√©gezheted a kurzusokat.</p>
        </section>
        <div class="grid-elrendezes">
            <section class="spec-blokk">
                <h3>Input</h3>
                <p>Az els≈ë bemeneti sorban k√©t eg√©sz sz√°m, <i>N</i> √©s <i>M</i> szerepel: a kurzusok √©s a k√∂vetelm√©nyek sz√°ma. A kurzusok sz√°moz√°sa 1, 2, ..., <i>N</i>.
                    <br>
                    Ezt k√∂vet≈ëen <i>M</i> db sor k√∂vetkezik, amelyek a k√∂vetelm√©nyeket √≠rj√°k le. Minden sorban k√©t eg√©sz sz√°m, <i>A</i> √©s <i>B</i> tal√°lhat√≥: az <i>A</i> kurzust a <i>B</i> kurzus el≈ëtt kell elv√©gezni.</p>
            </section>

            <section class="spec-blokk">
                <h3>Output</h3>
                <p>√çrj ki egy sorrendet, amelyben elv√©gezheted a kurzusokat. Ki√≠rhatsz b√°rmilyen √©rv√©nyes sorrendet, amely tartalmazza az √∂sszes kurzust.
                    <br>
                    Ha nincs ilyen sorrend, akkor √≠rd ki: <i>"IMPOSSIBLE"</i></p>
            </section>

            <section class="spec-blokk">
                <h3>Korl√°toz√°sok</h3>
                <p>
                    1 &le; <i>N</i> &le; 10<sup>5</sup>
                    <br>
                    1 &le; <i>M</i> &le; 2 &sdot; 10<sup>5</sup>
                    <br>
                    1 &le; <i>A, B</i> &le; 10<sup>5</sup>
                    </p>
            </section>

            <section class="spec-blokk">
                <h3>P√©lda</h3>
                <pre>
Input:
5 3
1 2
3 1
4 5

Output:
3 4 1 5 2
                </pre>
            </section>
        </div>


        <section class="megoldas-kod">
            <h2>Megold√°s Python k√≥dja</h2>
            <div class="grid-elrendezes">
            <div class="kod-blokk">
        <pre>
<span class="sor-szam">1</span><span class="sor-tartalom"><span class="kulcsszo">import</span> sys</span>
<span class="sor-szam">2</span><span class="sor-tartalom"><span class="kulcsszo">from</span> collections <span class="kulcsszo">import</span> deque</span>
<span class="sor-szam">3</span><span class="sor-tartalom"></span>
<span class="sor-szam">4</span><span class="sor-tartalom">data = sys.stdin.readline().<span class="fuggveny">split</span>()</span>
<span class="sor-szam">5</span><span class="sor-tartalom"></span>
<span class="sor-szam">6</span><span class="sor-tartalom">n = <span class="fuggveny">int</span>(data[<span class="szam">0</span>])</span>
<span class="sor-szam">7</span><span class="sor-tartalom">m = <span class="fuggveny">int</span>(data[<span class="szam">1</span>])</span>
<span class="sor-szam">8</span><span class="sor-tartalom"></span>
<span class="sor-szam">9</span><span class="sor-tartalom">adj = [[] <span class="kulcsszo">for</span> _ <span class="kulcsszo">in</span> <span class="fuggveny">range</span>(n + <span class="szam">1</span>)]</span>
<span class="sor-szam">10</span><span class="sor-tartalom"></span>
<span class="sor-szam">11</span><span class="sor-tartalom">indegree = [<span class="szam">0</span>] * (n + <span class="szam">1</span>)</span>
<span class="sor-szam">12</span><span class="sor-tartalom"></span>
<span class="sor-szam">13</span><span class="sor-tartalom"><span class="kulcsszo">for</span> _ <span class="kulcsswo">in</span> <span class="fuggveny">range</span>(m):</span>
<span class="sor-szam">14</span><span class="sor-tartalom">    a, b = <span class="fuggveny">map</span>(<span class="fuggveny">int</span>, sys.stdin.readline().<span class="fuggveny">split</span>())</span>
<span class="sor-szam">15</span><span class="sor-tartalom">    adj[a].<span class="fuggveny">append</span>(b)</span>
<span class="sor-szam">16</span><span class="sor-tartalom">    indegree[b] += <span class="szam">1</span></span>
<span class="sor-szam">17</span><span class="sor-tartalom"></span>
<span class="sor-szam">18</span><span class="sor-tartalom">queue = <span class="fuggveny">deque</span>()</span>
<span class="sor-szam">19</span><span class="sor-tartalom"><span class="kulcsszo">for</span> i <span class="kulcsszo">in</span> <span class="fuggveny">range</span>(<span class="szam">1</span>, n + <span class="szam">1</span>):</span>
<span class="sor-szam">20</span><span class="sor-tartalom">    <span class="kulcsszo">if</span> indegree[i] == <span class="szam">0</span>:</span>
<span class="sor-szam">21</span><span class="sor-tartalom">        queue.<span class="fuggveny">append</span>(i)</span>
<span class="sor-szam">22</span><span class="sor-tartalom"></span>
<span class="sor-szam">23</span><span class="sor-tartalom">result = []</span>
<span class="sor-szam">24</span><span class="sor-tartalom"></span>
<span class="sor-szam">25</span><span class="sor-tartalom"><span class="kulcsszo">while</span> queue:</span>
<span class="sor-szam">26</span><span class="sor-tartalom">    u = queue.<span class="fuggveny">popleft</span>()</span>
<span class="sor-szam">27</span><span class="sor-tartalom">    result.<span class="fuggveny">append</span>(u)</span>
<span class="sor-szam">28</span><span class="sor-tartalom"></span>
<span class="sor-szam">29</span><span class="sor-tartalom">    <span class="kulcsszo">for</span> v <span class="kulcsszo">in</span> adj[u]:</span>
<span class="sor-szam">30</span><span class="sor-tartalom">        indegree[v] -= <span class="szam">1</span></span>
<span class="sor-szam">31</span><span class="sor-tartalom"></span>
<span class="sor-szam">32</span><span class="sor-tartalom">        <span class="kulcsszo">if</span> indegree[v] == <span class="szam">0</span>:</span>
<span class="sor-szam">33</span><span class="sor-tartalom">            queue.<span class="fuggveny">append</span>(v)</span>
<span class="sor-szam">34</span><span class="sor-tartalom"></span>
<span class="sor-szam">35</span><span class="sor-tartalom"><span class="kulcsszo">if</span> <span class="fuggveny">len</span>(result) == n:</span>
<span class="sor-szam">36</span><span class="sor-tartalom">    <span class="fuggveny">print</span>(*result)</span>
<span class="sor-szam">37</span><span class="sor-tartalom"><span class="kulcsszo">else</span>:</span>
<span class="sor-szam">38</span><span class="sor-tartalom">    <span class="fuggveny">print</span>(<span class="sztring">"IMPOSSIBLE"</span>)</span>
        </pre>
            </div>

            <div class="kod-magyarazo-blokk">
                <h4>I. Gr√°f √©p√≠t√©s (1‚Äì16. sor)</h4>

                <p>A program fel√©p√≠ti az ir√°ny√≠tott gr√°fot a f√ºgg≈ës√©gek alapj√°n:</p>
                <ol>
                    <li><strong>Bemenet (4‚Äì7. sor):</strong> Beolvassuk a kurzusok <i>N</i> √©s a k√∂vetelm√©nyek <i>M</i> sz√°m√°t.</li>
                    <li><strong>Gr√°f strukt√∫ra (9‚Äì11. sor):</strong> L√©trehozzuk a gr√°freprezent√°ci√≥t:
                        <ul>
                            <li><strong><code>adj</code></strong> (szomsz√©ds√°gi lista): T√°rolja, hogy az <i>A</i> kurzus mely <i>B</i> kurzusok el≈ëfelt√©tele (<i>A</i> ‚ü∂ <i>B</i>).</li>
                            <li><strong><code>indegree</code></strong> (bej√∂v≈ë √©lek sz√°ma): T√°rolja, h√°ny el≈ëfelt√©tele van m√©g h√°tra egy kurzusnak.</li>
                        </ul>
                    </li>
                    <li><strong>Gr√°f felt√∂lt√©se (13‚Äì16. sor):</strong> Minden beolvasott (<i>A</i>, <i>B</i>) k√∂vetelm√©ny eset√©n:
                        <ul>
                            <li>Hozz√°adjuk az <i>A</i> ‚ü∂ <i>B</i> √©lt: <code>adj[a].append(b)</code></li>
                            <li>N√∂velj√ºk <i>B</i> el≈ëfelt√©teleinek sz√°m√°t: <code>indegree[b] += 1</code></li>
                        </ul>
                    </li>
                </ol>

                <h4>II. Kezd≈ë kurzusok bet√∂lt√©se (18‚Äì22. sor)</h4>

                <p>L√©trehozzuk a feldolgoz√°shoz sz√ºks√©ges sort:</p>
                <ol>
                    <li>L√©trehozzuk a <code>queue</code>-t, ami az √©ppen elv√©gezhet≈ë kurzusokat t√°rolja.</li>
                    <li>A sorba betessz√ºk azokat a kurzusokat, amelyeknek a bej√∂v≈ë √©leinek sz√°ma 0. Mivel ezeknek nincs el≈ëfelt√©tele, √≠gy azonnal elkezdhet≈ëk (19‚Äì21. sor).</li>
                </ol>

                <h4>III. Feldolgoz√°s (23‚Äì33. sor)</h4>

                <p>A <code>while</code> ciklus kiv√°lasztja az elv√©gezhet≈ë kurzusokat, √©s friss√≠ti a f√ºgg≈ës√©geket:</p>
                <ol>
                    <li><strong>Kurzus kiv√°laszt√°sa (26‚Äì27. sor):</strong> Kivessz√ºk az els≈ë elv√©gezhet≈ë kurzust a sorb√≥l, √©s hozz√°adjuk a v√©gs≈ë sorrendhez.</li>
                    <li><strong>F√ºgg≈ës√©gek old√°sa (29‚Äì33. sor):</strong> V√©gigmegy√ºnk <code>u</code> √∂sszes <code>v</code> ut√≥dj√°n:
                        <ul>
                            <li>Cs√∂kkentj√ºk <code>v</code> f√ºgg≈ës√©geinek sz√°m√°t: <code>indegree[v] -= 1</code></li>
                            <li>Ha <code>v</code> bej√∂v≈ë √©leinek sz√°ma 0 lett, az azt jelenti, hogy <code>v</code> √∂sszes el≈ëfelt√©tele teljes√ºlt. Ekkor <code>v</code>-t hozz√°adjuk a sorhoz: <code>queue.append(v)</code></li>
                        </ul>
                    </li>
                </ol>

                <h4>IV. Eredm√©ny Ellen≈ërz√©se (35‚Äì38. sor)</h4>

                <ul>
                    <li><strong>Van megold√°s:</strong> Ha a <code>result</code> lista hossza megegyezik <i>N</i>-nel, ki√≠rjuk az √©rv√©nyes sorrendet.</li>
                    <li><strong>Nincs megold√°s:</strong> Ha a sorrend nem teljes, az azt jelenti, hogy maradtak feldolgozatlan kurzusok. Ebben az esetben a feladatot lehetetlen teljes√≠teni.</li>
                </ul>
            </div>
            </div>
        </section>

        <section class="magyarazat">
            <h2>Magyar√°zat</h2>

            <p>Egy kurzusf√ºgg≈ës√©gi probl√©m√°t kellett megoldani. A c√©l, hogy a kurzusokat olyan sorrendbe tegy√ºk, hogy minden el≈ëfelt√©tel teljes√ºlj√∂n.
                A probl√©m√°t √°t lehet √∫gy is fogalmazni, hogy a kurzusokat <strong>topologikus sorrendbe</strong> kell rakni.
                A fent bemutatott k√≥d a <strong>Kahn-algoritmus</strong> implement√°ci√≥ja, ami egy ismert topologikus rendez√©si algoritmus.
                A logika f≈ë gondolata, hogy mindig azokkal a kurzusokkal kezd√ºnk, amelyeknek nincs f√ºgg≈ës√©ge, majd feloldjuk a r√°juk √©p√ºl≈ë kurzusok f√ºgg≈ës√©geit.</p>
            
            <section class="vizualizacio-blokk">
            <h3>Az algoritmus l√©p√©sr≈ël l√©p√©sre</h3>
            
            <div class="carousel-kontener">
                <div class="carousel-track" id="carouselTrack">
                    
                    <!-- Minta
                    <div class="carousel-step">
                        <h3>L√©p√©s 1: Inicializ√°l√°s (Kahn-algoritmus)</h3>
                        <img src="../kepek/kahn/01.webp" alt="A gr√°f beolvas√°sa √©s az indegree t√∂mb inicializ√°l√°sa">
                        <p>Bet√∂ltj√ºk a gr√°fot, √©s minden cs√∫csn√°l megsz√°moljuk a bej√∂v≈ë √©lek sz√°m√°t (indegree).</p>
                    </div> -->

                    <div class="carousel-step">
                        <img src="../kepek/kahn/01.webp" alt="Kahn-algoritmus">
                    </div>

                    <div class="carousel-step">
                        <img src="../kepek/kahn/02.webp" alt="Kahn-algoritmus">
                    </div>

                    <div class="carousel-step">
                        <img src="../kepek/kahn/03.webp" alt="Kahn-algoritmus">
                    </div>

                    <div class="carousel-step">
                        <img src="../kepek/kahn/04.webp" alt="Kahn-algoritmus">
                    </div>

                    <div class="carousel-step">
                        <img src="../kepek/kahn/05.webp" alt="Kahn-algoritmus">
                    </div>

                    <div class="carousel-step">
                        <img src="../kepek/kahn/06.webp" alt="Kahn-algoritmus">
                    </div>
                    
                    <div class="carousel-step">
                        <img src="../kepek/kahn/07.webp" alt="Kahn-algoritmus">
                    </div>

                    <div class="carousel-step">
                        <img src="../kepek/kahn/08.webp" alt="Kahn-algoritmus">
                    </div>

                    <div class="carousel-step">
                        <img src="../kepek/kahn/09.webp" alt="Kahn-algoritmus">
                    </div>

                    <div class="carousel-step">
                        <img src="../kepek/kahn/10.webp" alt="Kahn-algoritmus">
                    </div>

                    <div class="carousel-step">
                        <img src="../kepek/kahn/11.webp" alt="Kahn-algoritmus">
                    </div>

                    <div class="carousel-step">
                        <img src="../kepek/kahn/12.webp" alt="Kahn-algoritmus">
                    </div>

                    <div class="carousel-step">
                        <img src="../kepek/kahn/13.webp" alt="Kahn-algoritmus">
                    </div>

                    <div class="carousel-step">
                        <img src="../kepek/kahn/14.webp" alt="Kahn-algoritmus">
                    </div>

                </div>
                
                <div class="carousel-nav">
                    <button class="prev" onclick="prevStep()">&#10094;</button>
                    <button class="next" onclick="nextStep()">&#10095;</button>
                </div>
            </div>

            <div class="step-counter" id="stepCounter">L√©p√©s 1 / 4</div>

        </section>
            
            <h3>Mi√©rt a <code>deque</code> adatt√≠pus?</h3>

            <p>Hat√©konys√°g miatt a standard Python <code>list</code> helyett a <code>deque</code> (Double-Ended Queue) adatt√≠pust haszn√°ltuk.</p>
            <ul>
                <li>A Kahn-algoritmus egy sort (Queue) ig√©nyel, ahol az elemeket a sor elej√©r≈ël vessz√ºk ki (FIFO).</li>
                <li>A <code>deque.popleft()</code> m≈±velet a sor elej√©r≈ël t√∂rt√©n≈ë elt√°vol√≠t√°st garant√°lja konstans id≈ëben: <span class="ordo">O</span>(1).</li>
                <li>Ha standard Python <code>list</code>-et haszn√°ln√°nk a sor elej√©r≈ël val√≥ kiv√©telhez, a m≈±velet <span class="ordo">O</span>(N) id≈ëkomplexit√°s√∫ lenne (az elemek mem√≥ri√°ban t√∂rt√©n≈ë eltol√°sa miatt), ami rontan√° a teljes algoritmus teljes√≠tm√©ny√©t.</li>
            </ul>

            <h3>Id≈ëkomplexit√°s</h3>

            <p>Az algoritmus id≈ëkomplexit√°sa:
            <p style="text-align: center;"><strong><span class="ordo">O</span>(N + M)</strong>,</p>
            <p>ahol <i>N</i> a kurzusok sz√°ma (cs√∫csok), √©s <i>M</i> a k√∂vetelm√©nyek sz√°ma (√©lek).
                Ez egy line√°ris id≈ëben fut√≥ algoritmus, a teljes fut√°sid≈ë alatt minden cs√∫csot √©s minden √©lt pontosan egyszer dolgozunk fel.</p>
        </section>

        <section>
            <h2>Hasznos oldalak</h2>
            <ul>
                <li><a href="https://hu.wikipedia.org/wiki/Topologikus_sorrend" target="_blank">Topologikus sorrend</a></li>
                <li><a href="https://www.geeksforgeeks.org/dsa/topological-sorting-indegree-based-solution/" target="_blank">Kahn's algorithm for Topological Sorting</a></li>
            </ul>
        </section>

    </div>

    <footer>
        <p>&copy; P√≥sfai L≈ërinc, 2025</p>
    </footer>

    <script>
        const track = document.getElementById('carouselTrack');
        const steps = track.querySelectorAll('.carousel-step');
        const counter = document.getElementById('stepCounter');
        let currentStep = 0;
        const totalSteps = steps.length;

        function updateCarousel() {
            // A track mozgat√°sa
            const offset = -currentStep * 100;
            track.style.transform = `translateX(${offset}%)`;

            // A sz√°ml√°l√≥ friss√≠t√©se
            counter.textContent = `${currentStep + 1} / ${totalSteps}`;
        }

        function nextStep() {
            if (currentStep < totalSteps - 1) {
                currentStep++;
                updateCarousel();
            }
        }

        function prevStep() {
            if (currentStep > 0) {
                currentStep--;
                updateCarousel();
            }
        }

        // Kezdeti √°llapot be√°ll√≠t√°sa
        updateCarousel();
    </script>
</body>
</html>
