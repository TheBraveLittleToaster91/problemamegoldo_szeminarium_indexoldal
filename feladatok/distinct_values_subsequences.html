<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Distinct Values Subsequences</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <header>
        <h1>Distinct Values Subsequences</h1>
        <nav>
            <ul>
                <li><a href="../index.html">‚Üê Vissza a f≈ëoldalra</a></li>
            </ul>
        </nav>
    </header>
    <div class="kontener">
            
        <section class="feladat-leiras">
            <h2>Feladat le√≠r√°sa
                <a href="https://cses.fi/problemset/task/3421" target="_blank" style="color: var(--szin-kiemeles); text-decoration: none; font-weight: bold;">
                    üîó
                </a>
            </h2>
            <p>Adott egy <i>N</i> eg√©sz sz√°mb√≥l √°ll√≥ t√∂mb. Sz√°mold meg az olyan r√©szsorozatok sz√°m√°t, amelyekben az elemek p√°ronk√©nt k√ºl√∂nb√∂znek.
                A r√©szsorozat t√∂mbelemek olyan balr√≥l jobbra halad√≥ sorozata, amelyben lehetnek h√©zagok.</p>
        </section>
        <div class="grid-elrendezes">
            <section class="spec-blokk">
                <h3>Input</h3>
                <p>Az els≈ë sorban egy  eg√©sz sz√°m szerepel, a t√∂mb m√©rete: <i>N</i>
                    <br>
                    A m√°sodik sorban <i>N</i> db eg√©sz sz√°m van: <i>x<sub>1</sub></i>, <i>x<sub>2</sub></i>, ..., <i>x<sub>N</sub></i>: a t√∂mb tartalma.</p>
            </section>

            <section class="spec-blokk">
                <h3>Output</h3>
                <p>√çrd ki az elt√©r≈ë elemekkel rendelkez≈ë r√©szsorozatok sz√°m√°t.
                    <br>
                    A v√°lasz nagy is lehet, ez√©rt √≠rd ki modulo 10<sup>9</sup>+7.</p>
            </section>

            <section class="spec-blokk">
                <h3>Korl√°toz√°sok</h3>
                <p>
                    1 &le; <i>N</i> &le; 10<sup>5</sup>
                    <br>
                    1 &le; <i>x<sub>i</sub></i> &le; 10<sup>9</sup>
            </section>

            <section class="spec-blokk">
                <h3>P√©lda</h3>
                <pre>
Input:
4
1 2 1 3

Output:
11

Magyar√°zat:
Az alsorozatok: [1] (k√©tszer), [2], [3], [1,2], [1,3] (k√©tszer), [2,1], [2,3], [1,2,3] √©s [2,1,3].
                </pre>
            </section>
        </div>


        <section class="megoldas-kod">
            <h2>Megold√°s Python k√≥dja</h2>
            <div class="grid-elrendezes">
            <div class="kod-blokk">
                <pre>
<span class="sor-szam">1</span><span class="sor-tartalom"><span class="kulcsszo">import</span> sys</span>
<span class="sor-szam">2</span><span class="sor-tartalom"></span>
<span class="sor-szam">3</span><span class="sor-tartalom">MOD = <span class="szam">10</span>**<span class="szam">9</span> + <span class="szam">7</span></span>
<span class="sor-szam">4</span><span class="sor-tartalom"></span>
<span class="sor-szam">5</span><span class="sor-tartalom">n = <span class="fuggveny">int</span>(sys.stdin.readline().<span class="fuggveny">strip</span>())</span>
<span class="sor-szam">6</span><span class="sor-tartalom">a = <span class="fuggveny">list</span>(<span class="fuggveny">map</span>(<span class="fuggveny">int</span>, sys.stdin.readline().<span class="fuggveny">strip</span>().<span class="fuggveny">split</span>()))</span>
<span class="sor-szam">7</span><span class="sor-tartalom"></span>
<span class="sor-szam">8</span><span class="sor-tartalom">freq = {}</span>
<span class="sor-szam">9</span><span class="sor-tartalom"></span>
<span class="sor-szam">10</span><span class="sor-tartalom"><span class="kulcsszo">for</span> val <span class="kulcsszo">in</span> a:</span>
<span class="sor-szam">11</span><span class="sor-tartalom">    freq[val] = freq.<span class="fuggveny">get</span>(val, <span class="szam">0</span>) + <span class="szam">1</span></span>
<span class="sor-szam">12</span><span class="sor-tartalom"></span>
<span class="sor-szam">13</span><span class="sor-tartalom">result = <span class="szam">1</span></span>
<span class="sor-szam">14</span><span class="sor-tartalom"><span class="kulcsszo">for</span> f <span class="kulcsszo">in</span> freq.<span class="fuggveny">values</span>():</span>
<span class="sor-szam">15</span><span class="sor-tartalom">    result = (result * (f + <span class="szam">1</span>)) % MOD</span>
<span class="sor-szam">16</span><span class="sor-tartalom"></span>
<span class="sor-szam">17</span><span class="sor-tartalom">result = (result - <span class="szam">1</span> + MOD) % MOD</span>
<span class="sor-szam">18</span><span class="sor-tartalom"></span>
<span class="sor-szam">19</span><span class="sor-tartalom"><span class="fuggveny">print</span>(result)</span>
                </pre>
            </div>

            <div class="kod-magyarazo-blokk">
                <h3>1. Elemek gyakoris√°g√°nak sz√°m√≠t√°sa (8-11. sor)</h3>

                <ul>
                    <li>A k√≥d el≈ësz√∂r megsz√°molja, hogy az egyes √©rt√©kek h√°nyszor fordulnak el≈ë a bemeneti t√∂mbben.</li>
                    <li>A <code>freq</code> sz√≥t√°r t√°rolja az egyes √©rt√©kekhez tartoz√≥ gyakoris√°got.</li>
                    <li><strong>P√©lda:</strong> (1, 2, 1, 3) bemenet eset√©n <i>freq = {1: 2, 2: 1, 3: 1}</i>.</li>
                </ul>

                <h3>2. Kombinatorikai Sz√°m√≠t√°s (13-15. sor)</h3>

                <p>Az elemenk√©nt k√ºl√∂nb√∂z≈ë r√©szsorozatot √∫gy √°ll√≠tjuk √∂ssze, hogy minden egyes egyedi √©rt√©kre eld√∂ntj√ºk, hogy szerepel-e benne, √©s ha igen, melyik el≈ëfordul√°s√°t v√°lasztjuk.</p>
                <ul>
                    <li>Ha egy √©rt√©ket be akarunk tenni a r√©szsorozatunkba, √©s az az elem <i>f</i> alkalommal fordul el≈ë, akkor <i>f</i> k√ºl√∂nb√∂z≈ë poz√≠ci√≥b√≥l v√°laszthatjuk ki.</li>
                    <li>Ha nem v√°lasztjuk ki az √©rt√©ket, az 1 lehet≈ës√©g.</li>
                </ul>
                <p>√çgy √∂sszesen: <i>f</i> + 1 v√°laszt√°si lehet≈ës√©g van egy adott elemre. Mivel a k√ºl√∂nb√∂z≈ë √©rt√©kek v√°laszt√°sa egym√°st√≥l f√ºggetlen, a teljes sz√°m a lehet≈ës√©gek szorzata:</p>

                <p style="text-align:center">√ñsszes lehet≈ës√©g = &prod;(f(x) + 1)</p>

                <p><strong>P√©lda:</strong> (1, 2, 1, 3) bemenet eset√©n <i>result = (2+1) (1+1) (1+1) = 12</i></p>

                <h3>3. Az √úres R√©szsorozat Kivon√°sa (17. sor)</h3>

                <p>Az √≠gy kisz√°molt eredm√©ny tartalmazza azt az esetet is, amikor minden elemn√©l a "nem v√°lasztom" opci√≥t v√°lasztottuk. Ez az √ºres r√©szsorozat, ami nem egy val√≥s output, ez√©rt ezt az egy esetet ki kell vonni.</p>
                <p><strong>P√©lda:</strong> (1, 2, 1, 3) bemenet eset√©n <i>result = 12 - 1 = 11</i></p>
            </div>
            </div>
        </section>

        <section class="magyarazat">
            <h3>Id≈ëkomplexit√°s</h3>

            <ul>
                <li><strong>Gyakoris√°gok sz√°m√≠t√°sa:</strong> A t√∂mb√∂n <i>N</i> iter√°ci√≥ t√∂rt√©nik. A hash-t√°bla m≈±veletek √°tlagos ideje <span class="ordo">O(1)</span>, √≠gy az id≈ëig√©ny enn√©l a l√©p√©sn√©l: <span class="ordo">O(N)</span>.</li>
                <li><strong>Eredm√©ny sz√°m√≠t√°sa:</strong> A ciklus a k√ºl√∂nb√∂z≈ë elemek sz√°m√°n fut v√©gig, azaz legfeljebb <i>N</i>-szer. Minden m≈±velet <span class="ordo">O(1)</span> idej≈±.</li>
            </ul>
            <p>A megold√°s √∂sszes√≠tett id≈ëig√©nye √≠gy:
                <p style="text-align: center;"><strong><span class="ordo">O</span>(N)</strong></p>
        </section>

    </div>

    <footer>
        <p>&copy; P√≥sfai L≈ërinc, 2025</p>
    </footer>

</body>
</html>
